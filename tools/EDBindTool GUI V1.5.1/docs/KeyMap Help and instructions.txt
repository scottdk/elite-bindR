Creating KeyMaps for EDBindTool
Do I need any of this?
No! You can simply avoid assigning keys exclusive to a country specific keyboard layout. Those keys will appear as "undefined" in VoiceAttack (VA) commands and "Key: None" in the description. This limits the keys you can assign in ED, but if you use EdBindTool, you are probably going to use VoiceAttack anyways. So you only have to find enough keys or keys modified with Shift, Ctrl, Alt or Win or the left and right counterparts, to assign a unique key to all functions you are going to use in VA. You don't even have to remember what function or command they refer to. You can deal in VA with all this.
For all others including people, who want to give something back for this tool they can use free of charge, please read on.
What are KeyMaps?
Elite Dangerous (ED) saves the keys you assigned to the different commands to a file with a .binds file extension. While there are standard charsets to define chars displayed on the screen, there is no standard for keyboard key names. The names ED uses for the keys are specific to ED. This names can be found in a "Help.txt" file in the "ControlSchemes" directory, below your ED installation directory. But Help.txt does not contain all key names used by ED. More on this later on in this text.
VoiceAttack (VA) stores its commands and the associated key presses in .vap files called Profiles. The keys pressed are stored as numbers in the profiles. These numbers are based on a table used in Windows programs for keys. This table also assigns a name to each number representing a key. Since the names in the windows table are somewhat cryptic in parts (for example names like OEM1 or OEM2), VA uses his own names for keys, based mainly on what you see when you look at the keyboard.
To complicate things keyboards are country specific. The variation of key positions, number of keys, the names of keys and non standard special keys added, result in many different keyboard layouts. And there are quite a few differences in the keyboard layouts.
As mentioned above, there are key names missing in ED „Help.txt“. Those are country specific keys. An example are the german „umlaute“. They are not included in „Help.txt“, nevertheless they appear in ED .binds files as Key_ä, Key_ö and others. And this will be most likely the same for all other country specific keys ,perhaps with the exception of UK/US keyboards.
Btw are there differences between US and UK keyboards? I simply do not know.
As I said before VA uses the chars and symbols seen on the keyscaps of the keyboard to identify the keys for the users, while using numbers to identify the key in the program. This is another KeyMap stored in an internal table. For example the key left of the number „1“ key in the top row of the keyboard, is, on a german keyboard, displayed as [^°], which are the symbols produced by the key without and with "Shift" pressed.
Note: This key is also special in another way. It is a compose key, used to combine two keys to produce special chars. so if you press this key once, nothing seems to happen, until you press another key, if it is a valid combination, chars like ê, â are produced. If there is no combination char, the symbol and the second key are displayed one after the other. If the symbol key is pressed twice the symbol itself is shown once.
So when converting ED .binds files to VA profiles the different keys names must be matched .

This is where KeyMaps come into play. A KeyMap simply is a table that matches 2 different key names for the same key.
Since you read this far, you are at least considering editing the key map or helping out with it.
Why you have to do it?
EDBindTool has an internal KeyMap to do this matching. I don't have access to other keyboards, so the internal KeyMap of EDBindTool is based on a german keyboard layout (I am german, if you have not guessed until now anyways ;) ). Because of this some ED key names, on non german keyboards, have no valid windows key named assigned to them and some key names used by ED are completely missing from the internal KeyMap, with the result that, if you assign keys to them in ED, VA can not determin, which keypress to execute.
To cope with this I have added the feature to EDBindTool to read KMaps from an external file.
All versions of EDBindTool, that come bundled with this text, can read the KeyMap from an external text file. By default it is named „DefaultKeyMap.csv“ (clever name,  ain't it ? ;) ).
If the file is not present, the internal KeyMap is saved as „DefaultKeyMap.csv“, when you run the tool. If present „DefaultKeyMap.csv“ will be loaded automatically, when EdBindTool is started and will be used instead of the internal KeyMap in all functions of the tool.
So, to use all keys on your keyboard layout and make dead keys come to life (omg key zombies ;) ),  you can edit this file.
If you created a KeyMap that does not work or contains wrong mappings, simply delete „DefaultKeyMap.csv“ and the default file will be recreated on next program start.
The file is in CSV (comma seperated values) format and contains one line for each key match, with the ED key name on the left and the windows key name on the right, seperated by „;“  It is a text file that can be edited with a text editor of your liking but take care that you save it in pure text format with a Windows/Ansi charset. If you use the GUI version of EDBindTool you don't have to use a text-editor at all. Editing of DefaultKeyMp.csv can be done from within the program.
DefaultKeyMap.csv already contains some extra ED keynames for a german keyboard layout, which are not part of Help.txt. And with your help I hope to add many more of them, simplifying the configuration of custom keymaps later on.
Note: Please let me know of any new ED key name you find. I will include them in the DefaultKeyMap.csv.
If the value on the right side of an entry (the windows key name) shows "None" that means there is no valid windows key name assigned to the ED key name on the left. Those entries must be updated by replacing "None" with the correct Windows key name, to create valid keypress actions in VA profiles, else they will show up as undifined in VA.
To find ED key names missing in Help.txt, export your bind file to CSV using EdBindTool and compare it to Help.txt.
If a ED keyname in your .binds file is not in the ED Help.txt file you have to add a new entry to the keymap containing both the new ED key name and the corresponding Windows key name.
To summarize it, all you have to do <evil grin/> is to update the value on the right side of an entry or add new entries for keys not present to create custom keyboard layouts.
But don't abandon all hope.
To assist you in editing the KeyMap both, the CLI and the GUI version of EdBindTool contain a function to find the windows key name by simply pressing the key in question.
Creating a DefaultKeyMap.csv with the commandline tool
In the commandline version you simply start edbindtool -maptest. For any key pressed the windows key name is displayed and written to keymaplog.csv. You should press any key twice to cope with compose keys like ^ which wait for a second key to be pressed to create special chars like ê. If you press those kind of keys twice they display the char itself.
Note: This function is limited to keys, that produces a visible char. Modifier keys like Shift, Alt, Ctrl and Win don't show up. But those keys are mostly not country specific and therefor will be most likely already in DefaultKeymap.csv. That leaves special keys to map. I'M not sure if VA supports those keys, ED seems to do. I refere to media keys and application keys like mail. The only way of matching those keys ist by name similarity or try and error, which I have done as ar as I could.
Note that the keynames on the left in keymaplog.csv only accidentally match the ED key name (again the example are the german umlaute, see above). The key names on the left of keymaplog.csv are just a reminder, what key you pressed. To find the ED key name, assign some commands in ED to the keys you pressed and export the binds file to csv using edbindtool. Then you have the exported binds file for the ED key names and the keymaplog.csv for the corresponding windows key names. All that remains to do is edit DefaultKeyMap.csv with the texteditor you prefer and add ED name and Windows name to a new line. If the ED key name already exists in the DefaultKeyMap.csv, replace the value on the right with the windows key name you found with -maptest.
Save the updated file in text format with ANSI charset to the EDBindTool directory and your done.
Creating a DefaultKeyMap.csv with the GUI:
Editing the DefaultKeyMap.csv with the GUI version is a bit easier, but finding the corrct changes and additions differs not so much.
The new version has two different pages. THe „converter“ page contains all functions to convert an ED binds file to .vap, .csv or .ttm
The new page „keymap“ is all about editing the DefaultKeyMap.csv.
On the left is a list of all key assignments in DefaultKeyMap.csv. the ED command column is empty when you enter the page. By clicking on „Load ED binds file“ you can select an ED bindings file and the third column of the list will be filled with the ED commands assigned in that .binds file to ED key names on the left.
ED key names that don't exist in DefaultKeyMap.csv will be added to the list (with „None“ as windows key name).
ED key names that have no windows key assigned will appear in red and Ed keynames that have been added to the list will appear in blue.
To edit the DefaultKeyMap.csv you klick into the Windows key name textbox on the top-right side of the page to set the focus to the field. If you press a key now, it's windows key name will be shown in the textbox.
Now you can select a line win the list on the left with the ED key name that should be assigned the key you pressed. THe ED key name will be displayed in the „ED key name“ textbox .You can type the ED key name directly to this textbox, for example if it is a ney key name. If you choose a ED key name that already has a windows key assigned a warning will pop up.
Press the button „Add to keymap“ to update the list on the left and you're done. When you have completed editing the key map, just press „Save to DefaultKeyMap.csv“.
That's it
How can I help?
Simple! Just share what you found out, to help others using this tool. If you find new ED key names, let me know the key name and the country of your keyboard.
If you happen to create a complete DefaultKeyMap.csv it would be awfull nice to send it to me, with the country of the keyboard layout you use. I will include them with the tool and make them selectable via cli option or dropdown in the GUI.

I hope you find the tool useful and have fun with EliteDangerous and VoiceAttack.
